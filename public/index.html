<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" sizes="any" mask="" href="./images/favicon.ico">
  <link rel="stylesheet" href="./stylesheets/style.min.css">
  <title>soymilk</title>
</head>

<body>
  <canvas id="drawImg"></canvas>
  <section class="main">
    <header>
      soymilk
    </header>
    <section class="contain">
      <ul class="con-ul">
        <li class="border1px">
          <a href="chat.html">聊天室</a>
        </li>
        <li class="border1px">
          <a href="chess.html">五子棋</a>
        </li>
        <li class="border1px">
          <a>写写字</a>
        </li>
        <li class="border1px">
          <a>贪吃蛇</a>
        </li>
      </ul>
    </section>
  </section>
  <script src="./javascripts/jquery.min.js"></script>
  <script src="./javascripts/fastclick.js"></script>
  <script>
    var canvas = document.getElementById("drawImg");
    var context = canvas.getContext('2d');
    var scaler = document.getElementById("scale");
    var image = new Image();
    window.onload = function () {
      var width = $(window).width();
      var height = $(window).height();
      canvas.width = width;
      canvas.height = height;
      image.src = "images/indexbg.jpg";
      image.onload = function () {
        window.addEventListener('deviceorientation', handleOrientation);
      }

    }

    function drawscale(dx, dy) {
      context.clearRect(0, 0, canvas.width, canvas.height);
      context.drawImage(image, dx, dy, canvas.width + 120, canvas.height + 120);
    }

    function handleOrientation(event) {
      var x = event.beta; // In degree in the range [-180,180]
      var y = event.gamma; // In degree in the range [-90,90]
      if (x > 60) {
        x = 60;
      }
      if (x < -60) {
        x = -60;
      }
      if (y > 60) {
        y = 60;
      }
      if (y < -60) {
        y = -60;
      }
      x += 60;
      y += 60;
      drawscale(-y, -x);
    }
  </script>
</body>

</html>