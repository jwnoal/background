<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" sizes="any" mask="" href="./images/favicon.ico">
  <link rel="stylesheet" href="./stylesheets/style.min.css">
  <title>soymilk</title>
  <style>

  </style>
</head>

<body>
  <canvas id="drawImg" style="width:100%;height:100%"></canvas>
  <section id="wrapper" class="main">
    <div>
      <section class="contain">
        <header>我的:</header>
        <ul class="con-ul">
          <li class="border1px">
            <a href="chat.html">个人简历</a>
          </li>
          <li class="border1px">
            <a href="chess-online.html">问题及摘要</a>
          </li>
        </ul>
      </section>
      <section class="contain">
        <header>简书:</header>
        <ul class="con-ul">
          <li class="border1px">
            <a href="https://www.jianshu.com/p/b898db1036eb">git的使用</a>
          </li>
          <li class="border1px">
            <a href="https://www.jianshu.com/p/5cb564ab6451">es6</a>
          </li>
        </ul>
      </section>
      <section class="contain">
        <header>github:</header>
        <ul class="con-ul">
          <li class="border1px">
            <a href="https://github.com/jwnoal/vue-init">vue-init</a>
          </li>
          <li class="border1px">
            <a href="https://github.com/jwnoal/react-init">react-init</a>
          </li>
          <li class="border1px">
            <a href="https://github.com/jwnoal/eleme">eleme</a>
          </li>
          <li class="border1px">
            <a href="https://github.com/jwnoal/react-project">react-project</a>
          </li>
          <li class="border1px">
            <a href="https://github.com/jwnoal/background">本网站源码</a>
          </li>
        </ul>
      </section>
      <section class="contain">
        <header>websocket:</header>
        <ul class="con-ul">
          <li class="border1px">
            <a href="chat.html">聊天室</a>
          </li>
          <li class="border1px">
            <a href="chess-online.html">五子棋联机</a>
          </li>
        </ul>
      </section>
      <section class="contain">
        <header>canvas应用:</header>
        <ul class="con-ul">
          <li class="border1px">
            <a href="drawFont.html">写字</a>
          </li>
          <li class="border1px">
            <a href="clock.html">时钟</a>
          </li>
          <li class="border1px">
            <a href="chess-online.html">五子棋联机</a>
          </li>
          <!-- <li class="border1px">
            <a href="tanchishe.html">贪吃蛇</a>
          </li> -->
        </ul>
      </section>
      <section class="contain">
        <header>react:</header>
        <ul class="con-ul">
          <li class="border1px">
            <a href="./react.html">react</a>
          </li>
        </ul>
      </section>
    </div>
  </section>
  <script src="./javascripts/jquery.min.js"></script>
  <script src="./javascripts/fastclick.js"></script>
  <script src="./javascripts/iscroll.js"></script>
  <script>
    var myScroll = new IScroll('#wrapper', {
      mouseWheel: true,
      preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|A)$/ }
    });
    var canvas = document.getElementById("drawImg");
    var context = canvas.getContext('2d');
    var scaler = document.getElementById("scale");
    var image = new Image();
    var width = $(window).width();
    var height = $(window).height();
    canvas.width = width * 2;
    canvas.height = height * 2;

    window.onload = function () {
      image.src = "images/indexbg.jpg";
      image.onload = function () {
        window.addEventListener('deviceorientation', handleOrientation);
      }

    }

    function drawscale(dx, dy) {
      context.clearRect(0, 0, canvas.width, canvas.height);
      context.drawImage(image, dx, dy, canvas.width + 120, canvas.height + 120);
    }

    function handleOrientation(event) {
      var x = event.beta; // In degree in the range [-180,180]
      var y = event.gamma; // In degree in the range [-90,90]
      if (x > 60) {
        x = 60;
      }
      if (x < -60) {
        x = -60;
      }
      if (y > 60) {
        y = 60;
      }
      if (y < -60) {
        y = -60;
      }
      x += 60;
      y += 60;
      drawscale(-y, -x);
    }
  </script>
</body>

</html>